{% set locale = get_locale() %}
<div class="table-wrapper">
    
    <div class="tb">

        <div class="tb-h">
            <div class="tb-c tb-h-1">{{ 'persons'|trans }}</div>
            <div class="tb-c tb-h-2">{{ 'bedrooms'|trans }}</div>
            <div class="tb-c tb-h-3">{{ 'bathrooms'|trans }}</div>
            <div class="tb-c tb-h-4">{{ 'type'|trans }}</div>
            <div class="tb-c tb-h-5">{{ 'rating'|trans }}</div>
            <div class="tb-c tb-h-6">&nbsp;</div>
            <div class="tb-c tb-h-7">{{ 'price-accommodation'|trans }}</div>
        </div>

        {% for type in types %}
            
            {% set accommodation = type.getAccommodation() %}
            <a class="tb-r{% if offfers[type.getId()] is defined %} sale-type{% endif %}" href="{{ locale_path('show_type', {'beginCode': accommodation.getPlace().getCountry().getStartCode(), 'typeId': type.getId()}) }}">
                <div class="tb-c tb-c-1">
                    <i class="sprite sprite-icon-torso"></i>
                    {{ ( type.getOptimalResidents() == type.getMaxResidents() ? type.getOptimalResidents() : (type.getOptimalResidents() ~ ' - ' ~ type.getMaxResidents()) ) }}
                </div>
                <div class="tb-c">
                    <i class="sprite sprite-icon-sleep"></i>
                    {{ type.getBedrooms() }}
                </div>
                <div class="tb-c">
                    <i class="sprite sprite-icon-bath"></i>
                    {{ type.getBathrooms() }}
                </div>
                <div class="tb-c">
                    {{ type.getLocaleName(locale) }}
                </div>
                <div class="tb-c">{% if surveys[type.getId()] is defined %}<span>{{ surveys[type.getId()]['rating']|number_format(1, ',', '') }} ({{ surveys[type.getId()]['count'] }})</span>{% endif %}</div>
                <div class="tb-c tb-c-6">{% if offers[type.getId()] is defined %}<i class="sprite sprite-icon-discount"></i>{% endif %}</div>
                <div class="tb-c tb-c-7">{% if prices[type.getId()] is defined and prices[type.getId()] > 0 %}&euro; {{ prices[type.getId()]|number_format(0, ',', '.') }},-<i class="fi-info"></i>{% endif %}</div>
            </a>
        {% endfor %}
        
    </div>
    <div class="table-explain">
        <p>
            <span>{{ 'table-scrollable-horizontally'|trans }}</span>
            <i class="sprite sprite-cursor-explain"></i>
            <a href="" class="button tiny radius">{{ 'got-it'|trans }}</a>
        </p>
    </div>
    
</div>