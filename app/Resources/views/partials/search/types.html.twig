{% set locale = get_locale() %}
<div class="table-wrapper">

    <div class="tb">

        <div class="tb-h">
            <div class="tb-c tb-h-1">{{ 'persons'|trans }}</div>
            <div class="tb-c tb-h-2">{{ 'bedrooms'|trans }}</div>
            <div class="tb-c tb-h-3">{{ 'bathrooms'|trans }}</div>
            <div class="tb-c tb-h-4">{{ 'type'|trans }}</div>
            <div class="tb-c tb-h-5">{{ 'rating'|trans }}</div>
            <div class="tb-c tb-h-6">&nbsp;</div>
            <div class="tb-c tb-h-7">{{ 'price-accommodation'|trans }}</div>
        </div>

        {% for type in types %}

            <a class="tb-r{% if offfers[type.getId()] is defined %} sale-type{% endif %}" href="{{ locale_path('show_type', {'beginCode': accommodation.getPlace().getCountry().getStartCode(), 'typeId': type.getId()}) }}">
                <div class="tb-c tb-c-1">
                    <i class="sprite sprite-icon-torso"></i>
                    {{ ( type.getOptimalResidents() == type.getMaxResidents() ? type.getOptimalResidents() : (type.getOptimalResidents() ~ ' - ' ~ type.getMaxResidents()) ) }}
                </div>
                <div class="tb-c">
                    <i class="sprite sprite-icon-sleep"></i>
                    {{ type.getBedrooms() }}
                </div>
                <div class="tb-c">
                    <i class="sprite sprite-icon-bath"></i>
                    {{ type.getBathrooms() }}
                </div>
                <div class="tb-c">
                    {{ type.getLocaleName(locale) }}
                </div>
                <div class="tb-c">{% if type.getSurveyCount() > 0 %}<span>{{ type.getSurveyAverageOverallRating()|number_format(1, ',', '') }} ({{ type.getSurveyCount() }})</span>{% endif %}</div>
                <div class="tb-c tb-c-6">{% if offers[type.getId()] is defined %}<i class="sprite sprite-icon-discount"></i>{% endif %}</div>
                <div class="tb-c tb-c-7">
                    {% if type.getPrice() > 0 %}
                        <div class="chalet-tooltip" data-role="ajax-tooltip" data-id="{{ type.getId() }}" data-season="{{ 27 }}">
                            <div class="chalet-tooltip-content">
                                <div data-role="tooltip-content">Bezig met laden...</div>
                                <span class="nub rtl"></span>
                            </div>
                            <span>&euro; {{ type.getPrice()|number_format(0, ',', '.') }},-<i class="fi-info"></i></span>
                        </div>
                    {% endif %}
                </div>
            </a>
        {% endfor %}

    </div>
    <div class="table-explain">
        <p>
            <span>{{ 'table-scrollable-horizontally'|trans }}</span>
            <i class="sprite sprite-cursor-explain"></i>
            <a href="" class="button tiny radius">{{ 'got-it'|trans }}</a>
        </p>
    </div>

</div>